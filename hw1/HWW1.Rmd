---
title: "HWW1"
author: "Мухтаров Андрей"
date: '15 ноября 2016 г '
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown
## Загрузите данные в датафрейм, который назовите data.df.
```{r}
r <- read.table("http://www.stats.uwo.ca/faculty/braun/data/rnf6080.dat", header = FALSE)
data.df<-data.frame(r)
```
## Получите имена колонок из data.df.
```{r}
colnames(data.df)
```
## Найдите значение из 5 строки седьмого столбца.
```{r}
data.df[5,"V7"]
```
## Напечатайте целиком 2 строку из data.df
```{r}
data.df[2,]
```
## Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?
```{r}
names(data.df) <- c("year", "month", "day", seq(0,23))
#задает имена столбцов - "year", "month", "day" и последовательность от 0 до 23.
head(data.df)
tail(data.df) 
#последние 24 колонки - время от 0 до 23часов
```

## Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?
```{r}
daily <- rowSums(data.df[,c("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23")],na.rm=TRUE)
data.df2 <- cbind(data.df,daily)

hist(data.df2[,"daily"]) 
# ошибка в том что значения отрицательны
```

## Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.
```{r}

fixed.df<-data.df2
d<-array(dim(data.df2),dim=c(1,2))
for(i in 1:d[,2]){
for(j in 1:d[,1]){
if(fixed.df[j,i] >= 0) fixed.df[j,i] else fixed.df[j,i]=0
}
}
hist(fixed.df[,"daily"]) 
# ошибочные данныепоправлены, перепадов нет. гистограмма равномерная
```

## Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.
```{r}
v <- c("4", "8", "15", "16", "23", "42")
max(v) 
#работа со строками. определяет максивальное как по алфавиту (значение цифр начинае с первой)
sort(v) 
# собственно причина таже
#sum(v)ошибка потому что не цыфры складывает
```


## Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.
```{r}
v2 <- c("5",7,12)
#v2[2] + v2[3]  не может сложить потому что строковые значения, все значения одного типа. Надо задавать через лист


df3 <- data.frame(z1="5",z2=7,z3=12)
df3[1,2] + df3[1,3] 
# каждая переменная может быть своего типа

l4 <- list(z1="6", z2=42, z3="49", z4=126)
l4[[2]] + l4[[4]]
#l4[2] + l4[4] 
#Последовательности значений не обязательно одного типа поэтому цыфры складфваются а строки нет
```

## Работа с функциями и операторами
```{r}
seq(1,10000,372)
seq(1,10000,,50)

rep(1:5,times=3) 
#повторяет последовательность 3 раза
rep(1:5, each=3) 
#повторяет каждую цыфру последовательности 3 раза
```



## Including Plots

